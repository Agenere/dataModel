<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.or.ksmart.model.mapper.AccountMapper">
	<insert id="insertAccount"
		parameterType="kr.or.ksmart.model.vo.Account">
		INSERT INTO account(
		account_no
		,user_id
		,account_name 
		,account_deposit
		,account_open_branch
		,account_manager)
		VALUES(
		((CONCAT(
			<!-- 지점 코드 날짜 랜덤숫자 조합을 합하기 -->
			#{branchNo}
			,'-'
			<!-- 날짜 중 시간 분 초 만 추출 한다 -->
			,(EXTRACT(HOUR_SECOND FROM now()))
			,'-'
			<!-- 3자리 랜덤숫자 추출 -->
			,(CAST((RAND()*899)+100 AS SIGNED)) 
				) ))
		,#{userId}
		,#{accountName}
		,#{accountDeposit}
		,#{accountOpenBranch}
		,#{accountManager})
	</insert>
</mapper>